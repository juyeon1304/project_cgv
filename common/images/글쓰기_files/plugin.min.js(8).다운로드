!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=450)}({16:function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(o(i)));var r=!1;return{configurable:!0,get:function(){if(r||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof i)return i;var n=i.bind(this);return r=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return n},set:function(t){i=t,delete this[e]}}),r=!1,n},set:function(t){i=t}}}function r(t){var e;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(e){if("constructor"!==e){var n=Object.getOwnPropertyDescriptor(t.prototype,e);"function"==typeof n.value&&Object.defineProperty(t.prototype,e,i(t,e,n))}}),t}function l(){return 1===arguments.length?r.apply(void 0,arguments):i.apply(void 0,arguments)}n.r(e),n.d(e,"boundMethod",function(){return i}),n.d(e,"boundClass",function(){return r}),n.d(e,"default",function(){return l})},27:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t,e){void 0===e&&(e=[]);var n={left:["bl-tl"],center:["bc-tc"],right:["br-tr"]},o=n.left;if(!e.length)return o;var i=e.find(function(e){return e.plugin===t});return e.length||i||i.align?n[i.align]:o}},450:function(t,e,n){"use strict";n.r(e);var o=n(16),i=function(t){return null!==(""+t).match(/^https?:\/\/.+\..+/)},r=function(t){var e=(""+t).match(/^tel:\d{2,5}(-\d{2,5}){0,3}/);return null!==e&&e[0]===t},l=function(t){var e=t.selection.getNode()||t.selection.getStart();return t.dom.getParent(e,"a[href]")},s=function(t){return t.replace(/\uFEFF/g,"")},a=function(t){return i(t)||r(t)||function(t){return null!==(""+t).match(/mailto:[^@]+@[^@]+\.[^@]+/)}(t)?t:i("http://"+t)?"http://"+t:function(t){return null!==(""+t).match(/[^@]+@[^@]+\.[^@]+/)}(t)?"mailto:"+t:""},c=function(t){return""!==a(t)},u=function(t,e,n,o){var i,r=arguments.length,l=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(l=(r<3?i(l):r>3?i(e,n,l):i(e,n))||l);return r>3&&l&&Object.defineProperty(e,n,l),l},f=function(){function t(t){this.editor=t}return t.prototype.open=function(){this.makeWindow(),this.setEvent(),this.setData(),this.checkStatus(),this.$url[0].focus()},t.prototype.makeWindow=function(){var t=this.editor.windowManager.open({title:"Insert/edit link",items:[{type:"container",html:'<div class="keditor-dialog" style="width:360px; height:350px">\n\t\t\t\t\t\t<form class=\'keditor-form klink-form\'>\n\t\t\t\t\t\t\t<div class="body">\n\t\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t\t<b class="form-label">URL</b>\n\t\t\t\t\t\t\t\t\t<input ref="url" type="text" class="form-text klink-url" placeholder="http://" />\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t\t<b class="form-label">링크 텍스트</b>\n\t\t\t\t\t\t\t\t\t<input type="text" class="form-text klink-text" placeholder="" />\n\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t<label class="form-field">\n\t\t\t\t\t\t\t\t\t<input type="checkbox" class="form-checkbox klink-linknew" checked="checked" />\n\t\t\t\t\t\t\t\t\t<span class="checkbox-text">새창으로 열기</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="footer">\n\t\t\t\t\t\t\t\t<button type="reset" class="btn btn-cancel">취소</button>\n\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-default">확인</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t</div>'}],buttons:[]});t.statusbar.remove(),this.$form=t.$(".klink-form"),this.$url=t.$(".klink-url"),this.$text=t.$(".klink-text"),this.$linknew=t.$(".klink-linknew"),this.$btnSubmit=t.$(".btn-default"),this.$btnCancel=t.$(".btn-cancel"),this.$window=t.$(window),this.$modalBlock=t.$("#mce-modal-block"),this.win=t},t.prototype.setEvent=function(){this.$form.on("submit",this.onSubmit),this.$form.on("reset",this.onCancel),this.$url.on("input",this.checkStatus),this.$window.on("keydown",this.onWindowKeydown),this.$modalBlock.on("click",this.onCancel)},t.prototype.setData=function(){var t=l(this.editor),e=this.editor.dom;t&&(this.$url[0].value=e.getAttrib(t,"href"),this.$linknew[0].checked="_blank"===e.getAttrib(t,"target")),this.$text[0].value=function(t,e){var n=e?e.textContent:t.getContent({format:"text"});return s(n)}(this.editor.selection,t)},t.prototype.checkStatus=function(){var t=this.$url[0].value;c(t)?this.$btnSubmit.removeAttr("disabled"):this.$btnSubmit.attr("disabled",!0)},t.prototype.onSubmit=function(t){t.preventDefault();var e=this.$url[0].value;if(c(e)){var n=this.editor,o=a(e),i=this.$linknew[0].checked,r=this.$text[0].value,s=l(n),u={href:o,target:i?"_blank":null};s?n.undoManager.transact(function(){n.focus(),r&&(s.textContent=r),n.dom.setAttribs(s,u),n.selection.select(s),n.undoManager.add()}):r?n.insertContent(n.dom.createHTML("a",u,n.dom.encode(r))):n.execCommand("mceInsertLink",!1,u),this.close()}},t.prototype.onCancel=function(){this.close()},t.prototype.onWindowKeydown=function(t){27===t.keyCode&&this.close()},t.prototype.close=function(){this.win&&(this.$form.off("submit"),this.$form.off("reset"),this.$url.off("input"),this.$window.off("keydown"),this.$modalBlock.off("click"),this.win.close(),this.$form=null,this.$url=null,this.$text=null,this.$linknew=null,this.$btnSubmit=null,this.$btnCancel=null,this.$window=null,this.$modalBlock=null)},u([o.default],t.prototype,"checkStatus",null),u([o.default],t.prototype,"onSubmit",null),u([o.default],t.prototype,"onCancel",null),u([o.default],t.prototype,"onWindowKeydown",null),t}(),d=function(){return'<div class="keditor-klink-panel keditor-link-panel" style="width: 322px;">\n      <form class=\'keditor-form klink-form\'>\n        <div class="body">\n          <label class="form-field">\n            <input ref="url" type="text" class="form-text klink-url" placeholder="URL" />\n          </label>\n        </div>\n        <div class="footer">\n          <label class="form-field">\n            <input id="kLinkOpenNewWindowCheckbox" type="checkbox" class="form-checkbox klink-linknew" checked="checked" />\n            <label for="kLinkOpenNewWindowCheckbox" class="checkbox-text">새창으로 열기</label>\n          </label>\n          <button id="klink-unlink" type="button" class="btn btn-unlink" disabled>링크해제</button>\n          <button id="klink-submit" type="submit" class="btn btn-default">확인</button>\n        </div>\n      </form>\n    </div>'},p=function(t,e,n,o){var i,r=arguments.length,l=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(l=(r<3?i(l):r>3?i(e,n,l):i(e,n))||l);return r>3&&l&&Object.defineProperty(e,n,l),l},h=function(){function t(t){this.editor=t}return t.prototype.open=function(t){this.rng=this.editor.selection.getRng(),this.makePanelItem(t),this.setEvent(),this.setData(),this.checkStatus(),this.$url[0].select()},t.prototype.makePanelItem=function(t){this.editor;this.panel=t,this.$btn=this.panel.$(".keditor-klink-panel .klink-linknew"),this.$btnText=this.panel.$(".keditor-klink-panel .checkbox-text"),this.$url=this.panel.$(".keditor-klink-panel .klink-url"),this.$submit=this.panel.$(".keditor-klink-panel #klink-submit"),this.$form=this.panel.$(".keditor-klink-panel .klink-form"),this.$unlink=this.panel.$(".keditor-klink-panel #klink-unlink")},t.prototype.setEvent=function(){this.$btn.on("click",function(t){t.stopPropagation()}),this.$btnText.on("click",function(t){t.stopPropagation()}),this.$url.on("input",this.checkStatus),this.$submit.on("click",this.onSubmit),this.$form.on("reset",this.onCancel),this.$unlink.on("click",this.onUnlink)},t.prototype.removeEvent=function(){this.$btn.off("click"),this.$btnText.off("click"),this.$url.off("input"),this.$submit.off("click"),this.panel.off("keydown"),this.$form.off("reset"),this.$unlink.off("click"),this.$unlink[0].disabled=!0},t.prototype.setData=function(){var t=l(this.editor),e=this.editor.dom,n="",o=!0;t&&(n=e.getAttrib(t,"href"),o="_blank"===e.getAttrib(t,"target"),this.$unlink[0].disabled=!1),this.$url[0].value=n,this.$btn[0].checked=o},t.prototype.checkStatus=function(){var t=this.$url[0].value;c(t)?(this.$submit.removeAttr("disabled"),!function(t){return r(t)}(t)?this.$btn[0].disabled=!1:(this.$btn[0].checked=!1,this.$btn[0].disabled=!0)):(this.$submit.attr("disabled",!0),this.$btn[0].disabled=!0,this.$btn[0].checked=!0)},t.prototype.onSubmit=function(t){t.preventDefault();var e=this.$url[0].value;if(c(e)){var n=this.editor,o=a(e),i=this.$btn[0].checked,r=l(n),s={href:o,target:i?"_blank":null};if(r)n.undoManager.transact(function(){n.focus(),n.dom.setAttribs(r,s),n.selection.select(r),n.undoManager.add()});else if(this.rng.collapsed){n.focus(),n.selection.setRng(this.rng);var u=i?' target="_blank"':"";n.insertContent('<a href="'+o+'"'+u+' rel="noopener" data-mce-href="'+o+'">'+o+"</a>")}else n.focus(),n.selection.setRng(this.rng),n.execCommand("mceInsertLink",!1,s);this.panel.hide()}},t.prototype.onCancel=function(t){this.panel.hide()},t.prototype.onUnlink=function(t){var e=this.editor;l(e)?e.undoManager.transact(function(){e.focus(),e.execCommand("Unlink")}):(e.focus(),e.selection.setRng(this.rng),e.execCommand("Unlink",!1)),this.panel.hide()},p([o.default],t.prototype,"checkStatus",null),p([o.default],t.prototype,"onSubmit",null),p([o.default],t.prototype,"onCancel",null),p([o.default],t.prototype,"onUnlink",null),t}(),k=function(t){for(var e=t.selection.getNode(),n=0;n<e.childNodes.length;n++){var o=e.children[n];o&&"bookmark"===o.getAttribute("data-mce-type")&&t.dom.remove(o)}var i=t.selection.getBookmark(),r=e.innerHTML;r=r.replace(/(<span.*?data-mce-type="bookmark".*?><\/span>($|<br data-mce-bogus="1">))/gi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"&nbsp;"+t[1]}),e.innerHTML=r,t.undoManager.add(),r=(r=e.innerHTML).replace(/([\s]{1}|^)((https?:\/\/)?[www\.]?[-a-zA-Z0-9가-힣@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9가-힣@:%_\+.~#?&\/\/=\(\)\[\]!$'*,;]*))/gi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!!t[1],o=t[2],i=o,r=n?" ":"";/https?:\/\//gi.test(o)||(i="http://"+o);var l=i.indexOf("&nbsp;");return r+=l>-1?'<a href="'+i.slice(0,l)+'">'+o.slice(0,l)+"</a>&nbsp;":'<a href="'+i+'">'+o+"</a>"}),e.innerHTML=r;t.dom.select("span[data-mce-type=bookmark]")[0];t.selection.moveToBookmark(i),t.undoManager.add()},b=n(27);(window.tinymce||{}).PluginManager.add("klink",function(t){var e=function(t){return void 0===t&&(t={}),Object.assign({is_panel:!1,auto_link:!1,align:"left"},t,{})}(t.settings.klink),n=e.is_panel;e.auto_link&&function(t){t.on("keydown",function(e){var n=t.selection.getNode();if(t.dom.is(n,"p, h1, h2, h3, b, i, strong, em, span, s, td")){var o=/([\s]{1}|^)((www\.)|(m\.)|(http:\/\/)|(https:\/\/))[-a-zA-Z0-9가-힣@:%._\+~#=]{2,256}\.[a-z]{2,6}\b[-a-zA-Z0-9가-힣@:%_\+.~#?&\/\/=\(\)\[\]!$'*,;]*/g.test(n.innerHTML);32===e.keyCode||"Space"===e.code&&"Process"===e.key?o&&(k(t),e.preventDefault()):13===e.keyCode&&o&&k(t)}})}(t);if(n){var o=new h(t);t.addButton("klink",{icon:"link",type:"panelbutton",tooltip:"Insert/edit link",popoverAlign:Object(b.a)("fontSelect",t.settings.panelOptions),stateSelector:"a",disabledStateSelector:"img, figure, iframe, div, figcaption, pre, hr",panel:{classes:"kLink",role:"dialog",html:d(),onPostRender:function(){t.settings.isPanelFixed&&this.fixed(!0)}},onPostRender:function(t){return function(e){var n=e.control,o=n.settings.disabledStateSelector;t.shortcuts.add("meta+k","",function(){n.disabled()||n.showPanel()}),t.on("nodeChange",function(){if(o){var e=!1,i=t.selection.getNode();(t.dom.is(i,o)||t.dom.is(i.parentNode,"figure[data-ke-type=image]"))&&(e=!0),n.disabled(e)}})}}(t),onshow:function(){o.open(this.panel)},onhide:function(){o.removeEvent(),t.focus()}})}else{var i=new f(t);t.addCommand("klink",function(){i.open()}),t.addButton("klink",{cmd:"klink",icon:"link",tooltip:"Insert/edit link",stateSelector:"a"}),t.shortcuts.add("meta+k","open link","klink")}})}});